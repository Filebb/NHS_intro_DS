---
title: "Introduction to the Tidyverse"
subtitle: "Fundamentals of Data Science for NHS using R"
execute: 
  echo: true
format:
    revealjs:
        theme: default
        slide-number: c/t
        footer: "Fundamentals of Data Science for NHS using R - Day 1"
highlight-style: vim-dark
code-line-numbers: false
---

## Today's Plan

+ What is R?
+ What is RStudio?
+ What is the Tidyverse?
+ Practical Session

# Let's introduce the main charcaters of our story

## What is R?

:::: {.columns}

::: {.column width="60%"}
R is a language and environment for statistical computing and graphics.

R provides a wide variety of statistical and graphical techniques,
and is highly extensible.
:::

::: {.column width="40%"}
![](https://www.r-project.org/logo/Rlogo.png){fig-align="center"}
:::

::::

::: aside
[https://www.r-project.org/](https://www.r-project.org/)
:::

## Why Use R?

::: {.incremental}
+ R is free
+ Any type of statistics/data analysis can be done in R
+ State-of-the-art graphics
+ Import data from wide variety of sources
+ R runs on all common platforms (Windows, Max OS X, Linux)
+ On-line community is always helpful, supportive and inclusive
:::

## R Popularity

:::: {.columns}

::: {.column width="40%"}
R is popular even if it's just for statistics and data analysis!

R is ranked 16^th^ in the [TIOBE index](https://www.tiobe.com/tiobe-index/) and
7^th^ in the [PYPL index](https://pypl.github.io/PYPL.html)
:::

::: {.column width="60%"}
![PYPL index, August 2022](Img\PYPL-index.png){fig-align="center"}
:::

::::

## NHS-R Community

:::: {.columns}

::: {.column width="40%"}
Promoting the Use of R in the UK Health & Care System.
:::

::: {.column width="60%"}
![](Img\nhsr-logo.svg){fig-align="center"}
:::

::::

::: aside
[https://nhsrcommunity.com/](https://nhsrcommunity.com/)
:::

## What is RStudio?

:::: {.columns}

::: {.column width="60%"}
RStudio is an integrated development environment (IDE) for R developed by
RStudio PBC.

Recently RStudio PBC
[announced](https://www.rstudio.com/blog/rstudio-is-becoming-posit/) that it
will change the name of RStudio IDE to Posit.
:::

::: {.column width="40%"}

::: {layout-nrow=2}

![](https://www.rstudio.com/wp-content/uploads/2018/10/RStudio-Logo-Flat.png){fig-align="center"}

![](Img\posit.jpg)
:::

:::

::::

::: aside
[https://www.rstudio.com/](https://www.rstudio.com/)
:::

## Data Science Workflow

![](Img\data-science-workflow.png){fig-align="center"}

::: aside
Image Credit [https://r4ds.had.co.nz/introduction.html](https://r4ds.had.co.nz/introduction.html)
:::

## Tidy Data {.smaller}

Tidy data is data where:

1. Every column is variable.
2. Every row is an observation.
3. Every cell is a single value.

![](Img\tidy-data.png)

::: aside
Wickham, H. . (2014). Tidy Data. Journal of Statistical Software, 59(10), 1â€“23.
[https://doi.org/10.18637/jss.v059.i10](https://doi.org/10.18637/jss.v059.i10)
:::

## What is the Tidyverse?

:::: {.columns}

::: {.column width="60%"}
Tideverse is a collection of R packages designed for data science.
:::

::: {.column width="40%"}
![](Img\tidyverse.png){fig-align="center"}
:::

::::

::: aside
[https://www.tidyverse.org/](https://www.tidyverse.org/)

Wickham et al., (2019). Welcome to the Tidyverse. Journal of Open Source
Software, 4(43), 1686,
[https://doi.org/10.21105/joss.01686](https://doi.org/10.21105/joss.01686)
:::

## Tidyverse Workflow

![](Img\data-science-workflow-tidyverse.png){fig-align="center"}

::: aside
[Image Credit](https://themockup.blog/posts/2018-12-11-tidytuesday-a-weekly-social-data-project-in-r/)
:::

## Tidyverse Critics

Not everyone agrees with the Tidyverse philosophy:

+ [Teach Base-R, Not Just the Tidyverse](https://github.com/matloff/TidyverseSkeptic)
+ [The Tidyverse Curse](https://r4stats.com/2017/03/23/the-tidyverse-curse/)

Some others instead think that is should be the first thing to learn when you
meet R for the first time:

+ [Don't teach built-in plotting to beginners](http://varianceexplained.org/r/teach_ggplot2_to_beginners/)
+ [Teach the tidyverse to beginners](http://varianceexplained.org/r/teach-tidyverse/)

# Tidyverse Core Packages

## ggplot2

:::: {.columns}

::: {.column width="60%"}
Data visualisation
:::

::: {.column width="40%"}
![](Img\ggplot2.png){fig-align="center"}
:::

::::

::: aside
[https://ggplot2.tidyverse.org/](https://ggplot2.tidyverse.org/)
:::

## dplyr

:::: {.columns}

::: {.column width="60%"}
Data manipulation
:::

::: {.column width="40%"}
![](Img\dplyr.png){fig-align="center"}
:::

::::

::: aside
[https://dplyr.tidyverse.org/](https://dplyr.tidyverse.org/)
:::

## tidyr

:::: {.columns}

::: {.column width="60%"}
Data tidying
:::

::: {.column width="40%"}
![](Img\tidyr.png){fig-align="center"}
:::

::::

::: aside
[https://tidyr.tidyverse.org/](https://tidyr.tidyverse.org/)
:::

## readr

:::: {.columns}

::: {.column width="60%"}
Data import (CSV and TSV files)
:::

::: {.column width="40%"}
![](Img\readr.png){fig-align="center"}
:::

::::

::: aside
[https://readr.tidyverse.org/](https://readr.tidyverse.org/)
:::

## purrr

:::: {.columns}

::: {.column width="60%"}
Functional programming
:::

::: {.column width="40%"}
![](Img\purrr.png){fig-align="center"}
:::

::::

::: aside
[https://purrr.tidyverse.org/](https://purrr.tidyverse.org/)
:::

## tibble

:::: {.columns}

::: {.column width="60%"}
`tibble` data structure
:::

::: {.column width="40%"}
![](Img\tibble.png){fig-align="center"}
:::

::::

::: aside
[https://tibble.tidyverse.org/](https://tibble.tidyverse.org/)
:::

## stringr

:::: {.columns}

::: {.column width="60%"}
Strings manipulation
:::

::: {.column width="40%"}
![](Img\stringr.png){fig-align="center"}
:::

::::

::: aside
[https://stringr.tidyverse.org/](https://stringr.tidyverse.org/)
:::


## forcats

:::: {.columns}

::: {.column width="60%"}
Categorical variables
:::

::: {.column width="40%"}
![](Img\forcats.png){fig-align="center"}
:::

::::

::: aside
[https://forcats.tidyverse.org/](https://forcats.tidyverse.org/)
:::

# Other Tidyverse Packages

## Work with date/times data

:::: {.columns}

::: {.column width="80%"}
Tidyverse provides two packages to work with dates and time:

+ [lubridate](https://lubridate.tidyverse.org/)
+ [hms](https://hms.tidyverse.org/)
:::

::: {.column width="20%"}

::: {layout-nrow=2}

![](Img\lubridate.png)

![](Img\hms.png)
:::

:::

::::

## Import other formats

:::: {.columns}

::: {.column width="80%"}
There are dedicated packages to import the following formats:

+ SPSS, SAS, Stata ([haven](https://haven.tidyverse.org/))
+ JSON
+ xls and xlsx ([readxl](https://readxl.tidyverse.org/))
+ XML ([xml2](https://xml2.r-lib.org/))
:::

::: {.column width="20%"}

::: {layout-nrow=2}

![](Img\haven.png){fig-asp="10%"}

![](Img\readxl.png){fig-asp="10%"}
:::

:::

::::

::: aside
for more information go to
[https://tidyverse.tidyverse.org/](https://tidyverse.tidyverse.org/)
:::

## reprex

:::: {.columns}

::: {.column width="60%"}
Ask for help in way that everybody can understand.
:::

::: {.column width="40%"}
![](Img\reprex.png){fig-align="center"}
:::

::::

::: aside
[https://reprex.tidyverse.org/](https://reprex.tidyverse.org/)
:::

## magrittr

:::: {.columns}

::: {.column width="60%"}
Provides the `%>%` operator which is essential to write cleaner code.

From R 4.1.0 (May 2021) the pipe operator has been implemented in the base-R
language and its syntax is `|>`.

See [this link](https://r4ds.hadley.nz/workflow-pipes.html#vs) for differences.
:::

::: {.column width="40%"}
![](Img\magrittr.png){fig-align="center"}
:::

::::

::: aside
[https://magrittr.tidyverse.org/](https://magrittr.tidyverse.org/)
:::

# Learning Resources

## R for Data Science

:::: {.columns}

::: {.column width="60%"}
This is where you should start!

[R for Data Science](https://r4ds.had.co.nz/) by Hadley Wickham & Garrett Grolemund

There is also a work-in-progress [2^nd^ edition](https://r4ds.hadley.nz/) of the
book.
:::

::: {.column width="40%"}
![](Img\R4DS.png){fig-align="center"}
:::

::::

## Other Links

+ [Introduction to Data Science](https://rafalab.github.io/dsbook/) by Rafael A. Irizarry

+ [R Graphics Cookbook](https://r-graphics.org/) by Winston Chang

+ [The Tidyverse Style Guide](https://style.tidyverse.org/) by Hadley Wickham